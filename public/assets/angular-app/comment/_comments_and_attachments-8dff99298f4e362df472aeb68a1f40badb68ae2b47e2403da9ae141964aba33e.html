<div class="comments" ng-controller="CommentCtrl">
  <h3 class="comment-title">
    Comments
  </h3>
  <ul class="list-of-comments">
    <li ng-repeat="comment in task.comments">
      <div class="content-of-comment" ng-controller="AttachmentCtrl">
        <div class="content">
          <p class="text-content" ng-init="getCommentId(comment)">
            {{ comment.content }}
          </p>
          <div class="btn-for-delete-comment" ng-click="delComment(comment, task)" ng-model="comment.destroy">
            <img src="/assets/delete-comment-c3c8084b5ba015aae2ba615a29b764db711b23c4d4e48975e0f7fe0e53b0deea.png" alt="Delete comment" />
          </div>
        </div>
        <div style="clear:both;"></div>
        <div class="link-and-date-comment">
          <p class="link" ng-repeat="attach in comment.attachments">
            <a href="{{attach.file.file.url}}">{{attach.file_identifier}}</a> 
          </p>
          <p class="date-and-time-comment">
            {{ comment.created_at | date: "MMM d, y HH:mm "}}
          </p>
        </div>
        <div class="add-file-link" ng-click="showFileForm = !showFileForm">
          Add file
        </div>
        <form class="form-for-attachment" ng-show="showFileForm">
          <div class="input-group">
            <input class="input-upload-file" name="file" ng-model="newFile.file" ngf-select="true" type="file" /><button class="btn btn-primary upload-file" ng-click="uploadFile(file); showFileForm = false" type="button">Upload file</button>
          </div>
        </form>
      </div>
    </li>
  </ul>
  <form id="new-comment-form" ng-submit="addComment(task)">
    <div class="input-group">
      <input class="form-control input-for-task" id="input-new-task" name="new_comment" ng-model="newComment.content" placeholder="Start typing here to create a comment..." type="text" /><button class="btn btn-primary add-comment-btn" type="submit">Add Comment</button>
    </div>
  </form>
</div>